<!--<!DOCTYPE html>
<html>
<title>Web Hotel Chat Bot</title>
<body>
        <iframe id="chat" style='width: 400px; width: 400px; height: 500px;'></iframe>
</body>
<script>

    var xhr = new XMLHttpRequest();
    xhr.open('GET', "https://webchat.botframework.com/api/tokens", true);
    xhr.setRequestHeader('Authorization', 'BotConnector ' + '2y_Snb8dZ-o.cwA.9jo.XtDCuKAHwUmxEWZDhPbCnJfh5iga2Mb2XDjEmtQgWAg');
    xhr.send();
    xhr.onreadystatechange = processRequest;

    function processRequest(e) {
        if (xhr.readyState == 4 && xhr.status == 200) {
            var response = JSON.parse(xhr.responseText);
            document.getElementById("chat").src = "https://webchat.botframework.com/embed/AsksuiteTestingBost?t=" + response
        }
    }

</script>

</html> -->

<!DOCTYPE html>
<html>
<style>
    html,
    body {
        height: 100%
    }

    body {
        margin: 0
    }

    #webchat,
    #webchat>* {
        height: 100%;
        width: 100%;
    }
</style>

<body>
    <div id="webchat" role="main" style="width: 400px; height: 400px; right: 0px; bottom: 0px;"></div>
    <script src="https://cdn.botframework.com/botframework-webchat/latest/webchat.js"></script>
    <script>
        const processRequest = (e) => {
            if (xhr.readyState == 4 && xhr.status == 200) {
                var response = JSON.parse(xhr.responseText);
                window.WebChat.renderWebChat({
                    directLine: window.WebChat.createDirectLine({ token: response }),
                    userID: 'user_id'
                }, document.getElementById('webchat'));
            }

        }

        const xhr = new XMLHttpRequest();
        xhr.open('GET', "https://webchat.botframework.com/api/tokens", true);
        xhr.setRequestHeader('Authorization', 'BotConnector ' + '2y_Snb8dZ-o.cwA.9jo.XtDCuKAHwUmxEWZDhPbCnJfh5iga2Mb2XDjEmtQgWAg');
        xhr.send();
        xhr.onreadystatechange = processRequest;

    </script>
</body>

</html>